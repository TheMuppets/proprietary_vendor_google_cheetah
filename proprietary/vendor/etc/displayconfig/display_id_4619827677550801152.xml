<?xml version='1.0' encoding='utf-8' standalone='yes' ?>

<!-- Copyright (C) 2021 Google Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<displayConfiguration>
    <screenBrightnessMap>
        <point>
            <value>0.0</value>
            <nits>2.0</nits>
        </point>
        <point>
            <value>0.6</value>
            <nits>600.0</nits>
        </point>
        <point>
            <value>1.0</value>
            <nits>1000.0</nits>
        </point>
    </screenBrightnessMap>

    <highBrightnessMode enabled="true">
        <transitionPoint>0.6</transitionPoint>
        <minimumLux>5724.62401237</minimumLux>
        <timing>
            <!-- allow for 5 minutes out of every 30 minutes -->
            <timeWindowSecs>1800</timeWindowSecs>
            <timeMaxSecs>300</timeMaxSecs>
            <timeMinSecs>60</timeMinSecs>
        </timing>
        <allowInLowPowerMode>false</allowInLowPowerMode>
        <minimumHdrPercentOfScreen>0</minimumHdrPercentOfScreen>
        <!--sdrHdrRatioMap, backed by spline, must have at least two entries -->
        <sdrHdrRatioMap>
            <point>
                <sdrNits>2.000</sdrNits>
                <hdrRatio>8.000</hdrRatio>
            </point>
            <point>
                <sdrNits>75.000</sdrNits>
                <hdrRatio>7.987</hdrRatio>
            </point>
            <point>
                <sdrNits>78.859</sdrNits>
                <hdrRatio>7.596</hdrRatio>
            </point>
            <point>
                <sdrNits>82.717</sdrNits>
                <hdrRatio>7.242</hdrRatio>
            </point>
            <point>
                <sdrNits>86.576</sdrNits>
                <hdrRatio>6.919</hdrRatio>
            </point>
            <point>
                <sdrNits>90.434</sdrNits>
                <hdrRatio>6.624</hdrRatio>
            </point>
            <point>
                <sdrNits>94.293</sdrNits>
                <hdrRatio>6.353</hdrRatio>
            </point>
            <point>
                <sdrNits>98.152</sdrNits>
                <hdrRatio>6.103</hdrRatio>
            </point>
            <point>
                <sdrNits>102.010</sdrNits>
                <hdrRatio>5.872</hdrRatio>
            </point>
            <point>
                <sdrNits>105.869</sdrNits>
                <hdrRatio>5.658</hdrRatio>
            </point>
            <point>
                <sdrNits>109.727</sdrNits>
                <hdrRatio>5.459</hdrRatio>
            </point>
            <point>
                <sdrNits>113.586</sdrNits>
                <hdrRatio>5.274</hdrRatio>
            </point>
            <point>
                <sdrNits>117.444</sdrNits>
                <hdrRatio>5.100</hdrRatio>
            </point>
            <point>
                <sdrNits>121.303</sdrNits>
                <hdrRatio>4.938</hdrRatio>
            </point>
            <point>
                <sdrNits>125.162</sdrNits>
                <hdrRatio>4.786</hdrRatio>
            </point>
            <point>
                <sdrNits>129.020</sdrNits>
                <hdrRatio>4.643</hdrRatio>
            </point>
            <point>
                <sdrNits>132.879</sdrNits>
                <hdrRatio>4.508</hdrRatio>
            </point>
            <point>
                <sdrNits>136.737</sdrNits>
                <hdrRatio>4.381</hdrRatio>
            </point>
            <point>
                <sdrNits>140.596</sdrNits>
                <hdrRatio>4.260</hdrRatio>
            </point>
            <point>
                <sdrNits>144.455</sdrNits>
                <hdrRatio>4.147</hdrRatio>
            </point>
            <point>
                <sdrNits>148.313</sdrNits>
                <hdrRatio>4.039</hdrRatio>
            </point>
            <point>
                <sdrNits>152.172</sdrNits>
                <hdrRatio>3.936</hdrRatio>
            </point>
            <point>
                <sdrNits>156.030</sdrNits>
                <hdrRatio>3.839</hdrRatio>
            </point>
            <point>
                <sdrNits>159.889</sdrNits>
                <hdrRatio>3.746</hdrRatio>
            </point>
            <point>
                <sdrNits>163.747</sdrNits>
                <hdrRatio>3.658</hdrRatio>
            </point>
            <point>
                <sdrNits>167.606</sdrNits>
                <hdrRatio>3.574</hdrRatio>
            </point>
            <point>
                <sdrNits>171.465</sdrNits>
                <hdrRatio>3.493</hdrRatio>
            </point>
            <point>
                <sdrNits>175.323</sdrNits>
                <hdrRatio>3.417</hdrRatio>
            </point>
            <point>
                <sdrNits>179.182</sdrNits>
                <hdrRatio>3.343</hdrRatio>
            </point>
            <point>
                <sdrNits>183.040</sdrNits>
                <hdrRatio>3.273</hdrRatio>
            </point>
            <point>
                <sdrNits>186.899</sdrNits>
                <hdrRatio>3.205</hdrRatio>
            </point>
            <point>
                <sdrNits>190.758</sdrNits>
                <hdrRatio>3.140</hdrRatio>
            </point>
            <point>
                <sdrNits>194.616</sdrNits>
                <hdrRatio>3.078</hdrRatio>
            </point>
            <point>
                <sdrNits>198.475</sdrNits>
                <hdrRatio>3.018</hdrRatio>
            </point>
            <point>
                <sdrNits>202.333</sdrNits>
                <hdrRatio>2.960</hdrRatio>
            </point>
            <point>
                <sdrNits>206.192</sdrNits>
                <hdrRatio>2.905</hdrRatio>
            </point>
            <point>
                <sdrNits>210.051</sdrNits>
                <hdrRatio>2.852</hdrRatio>
            </point>
            <point>
                <sdrNits>213.909</sdrNits>
                <hdrRatio>2.800</hdrRatio>
            </point>
            <point>
                <sdrNits>217.768</sdrNits>
                <hdrRatio>2.751</hdrRatio>
            </point>
            <point>
                <sdrNits>221.626</sdrNits>
                <hdrRatio>2.703</hdrRatio>
            </point>
            <point>
                <sdrNits>225.485</sdrNits>
                <hdrRatio>2.656</hdrRatio>
            </point>
            <point>
                <sdrNits>229.343</sdrNits>
                <hdrRatio>2.612</hdrRatio>
            </point>
            <point>
                <sdrNits>233.202</sdrNits>
                <hdrRatio>2.569</hdrRatio>
            </point>
            <point>
                <sdrNits>237.061</sdrNits>
                <hdrRatio>2.527</hdrRatio>
            </point>
            <point>
                <sdrNits>240.919</sdrNits>
                <hdrRatio>2.486</hdrRatio>
            </point>
            <point>
                <sdrNits>244.778</sdrNits>
                <hdrRatio>2.447</hdrRatio>
            </point>
            <point>
                <sdrNits>248.636</sdrNits>
                <hdrRatio>2.409</hdrRatio>
            </point>
            <point>
                <sdrNits>252.495</sdrNits>
                <hdrRatio>2.372</hdrRatio>
            </point>
            <point>
                <sdrNits>256.354</sdrNits>
                <hdrRatio>2.337</hdrRatio>
            </point>
            <point>
                <sdrNits>260.212</sdrNits>
                <hdrRatio>2.302</hdrRatio>
            </point>
            <point>
                <sdrNits>264.071</sdrNits>
                <hdrRatio>2.268</hdrRatio>
            </point>
            <point>
                <sdrNits>267.929</sdrNits>
                <hdrRatio>2.236</hdrRatio>
            </point>
            <point>
                <sdrNits>271.788</sdrNits>
                <hdrRatio>2.204</hdrRatio>
            </point>
            <point>
                <sdrNits>275.646</sdrNits>
                <hdrRatio>2.173</hdrRatio>
            </point>
            <point>
                <sdrNits>279.505</sdrNits>
                <hdrRatio>2.143</hdrRatio>
            </point>
            <point>
                <sdrNits>283.364</sdrNits>
                <hdrRatio>2.114</hdrRatio>
            </point>
            <point>
                <sdrNits>287.222</sdrNits>
                <hdrRatio>2.085</hdrRatio>
            </point>
            <point>
                <sdrNits>291.081</sdrNits>
                <hdrRatio>2.058</hdrRatio>
            </point>
            <point>
                <sdrNits>294.939</sdrNits>
                <hdrRatio>2.031</hdrRatio>
            </point>
            <point>
                <sdrNits>298.798</sdrNits>
                <hdrRatio>2.005</hdrRatio>
            </point>
            <point>
                <sdrNits>302.657</sdrNits>
                <hdrRatio>1.979</hdrRatio>
            </point>
            <point>
                <sdrNits>306.515</sdrNits>
                <hdrRatio>1.954</hdrRatio>
            </point>
            <point>
                <sdrNits>310.374</sdrNits>
                <hdrRatio>1.930</hdrRatio>
            </point>
            <point>
                <sdrNits>314.232</sdrNits>
                <hdrRatio>1.906</hdrRatio>
            </point>
            <point>
                <sdrNits>318.091</sdrNits>
                <hdrRatio>1.883</hdrRatio>
            </point>
            <point>
                <sdrNits>321.949</sdrNits>
                <hdrRatio>1.861</hdrRatio>
            </point>
            <point>
                <sdrNits>325.808</sdrNits>
                <hdrRatio>1.839</hdrRatio>
            </point>
            <point>
                <sdrNits>329.667</sdrNits>
                <hdrRatio>1.817</hdrRatio>
            </point>
            <point>
                <sdrNits>333.525</sdrNits>
                <hdrRatio>1.796</hdrRatio>
            </point>
            <point>
                <sdrNits>337.384</sdrNits>
                <hdrRatio>1.775</hdrRatio>
            </point>
            <point>
                <sdrNits>341.242</sdrNits>
                <hdrRatio>1.755</hdrRatio>
            </point>
            <point>
                <sdrNits>345.101</sdrNits>
                <hdrRatio>1.736</hdrRatio>
            </point>
            <point>
                <sdrNits>348.960</sdrNits>
                <hdrRatio>1.717</hdrRatio>
            </point>
            <point>
                <sdrNits>352.818</sdrNits>
                <hdrRatio>1.698</hdrRatio>
            </point>
            <point>
                <sdrNits>356.677</sdrNits>
                <hdrRatio>1.679</hdrRatio>
            </point>
            <point>
                <sdrNits>360.535</sdrNits>
                <hdrRatio>1.661</hdrRatio>
            </point>
            <point>
                <sdrNits>364.394</sdrNits>
                <hdrRatio>1.644</hdrRatio>
            </point>
            <point>
                <sdrNits>368.253</sdrNits>
                <hdrRatio>1.627</hdrRatio>
            </point>
            <point>
                <sdrNits>372.111</sdrNits>
                <hdrRatio>1.610</hdrRatio>
            </point>
            <point>
                <sdrNits>375.970</sdrNits>
                <hdrRatio>1.593</hdrRatio>
            </point>
            <point>
                <sdrNits>379.828</sdrNits>
                <hdrRatio>1.577</hdrRatio>
            </point>
            <point>
                <sdrNits>383.687</sdrNits>
                <hdrRatio>1.561</hdrRatio>
            </point>
            <point>
                <sdrNits>387.545</sdrNits>
                <hdrRatio>1.546</hdrRatio>
            </point>
            <point>
                <sdrNits>391.404</sdrNits>
                <hdrRatio>1.530</hdrRatio>
            </point>
            <point>
                <sdrNits>395.263</sdrNits>
                <hdrRatio>1.515</hdrRatio>
            </point>
            <point>
                <sdrNits>399.121</sdrNits>
                <hdrRatio>1.501</hdrRatio>
            </point>
            <point>
                <sdrNits>402.980</sdrNits>
                <hdrRatio>1.486</hdrRatio>
            </point>
            <point>
                <sdrNits>406.838</sdrNits>
                <hdrRatio>1.472</hdrRatio>
            </point>
            <point>
                <sdrNits>410.697</sdrNits>
                <hdrRatio>1.458</hdrRatio>
            </point>
            <point>
                <sdrNits>414.556</sdrNits>
                <hdrRatio>1.445</hdrRatio>
            </point>
            <point>
                <sdrNits>418.414</sdrNits>
                <hdrRatio>1.432</hdrRatio>
            </point>
            <point>
                <sdrNits>422.273</sdrNits>
                <hdrRatio>1.419</hdrRatio>
            </point>
            <point>
                <sdrNits>426.131</sdrNits>
                <hdrRatio>1.406</hdrRatio>
            </point>
            <point>
                <sdrNits>429.990</sdrNits>
                <hdrRatio>1.393</hdrRatio>
            </point>
            <point>
                <sdrNits>433.848</sdrNits>
                <hdrRatio>1.381</hdrRatio>
            </point>
            <point>
                <sdrNits>437.707</sdrNits>
                <hdrRatio>1.368</hdrRatio>
            </point>
            <point>
                <sdrNits>441.566</sdrNits>
                <hdrRatio>1.357</hdrRatio>
            </point>
            <point>
                <sdrNits>445.424</sdrNits>
                <hdrRatio>1.345</hdrRatio>
            </point>
            <point>
                <sdrNits>449.283</sdrNits>
                <hdrRatio>1.333</hdrRatio>
            </point>
            <point>
                <sdrNits>453.141</sdrNits>
                <hdrRatio>1.322</hdrRatio>
            </point>
            <point>
                <sdrNits>457.000</sdrNits>
                <hdrRatio>1.311</hdrRatio>
            </point>
            <point>
                <sdrNits>464.526</sdrNits>
                <hdrRatio>1.335</hdrRatio>
            </point>
            <point>
                <sdrNits>472.053</sdrNits>
                <hdrRatio>1.358</hdrRatio>
            </point>
            <point>
                <sdrNits>479.579</sdrNits>
                <hdrRatio>1.381</hdrRatio>
            </point>
            <point>
                <sdrNits>487.105</sdrNits>
                <hdrRatio>1.403</hdrRatio>
            </point>
            <point>
                <sdrNits>494.632</sdrNits>
                <hdrRatio>1.424</hdrRatio>
            </point>
            <point>
                <sdrNits>502.158</sdrNits>
                <hdrRatio>1.445</hdrRatio>
            </point>
            <point>
                <sdrNits>509.684</sdrNits>
                <hdrRatio>1.465</hdrRatio>
            </point>
            <point>
                <sdrNits>517.211</sdrNits>
                <hdrRatio>1.485</hdrRatio>
            </point>
            <point>
                <sdrNits>524.737</sdrNits>
                <hdrRatio>1.504</hdrRatio>
            </point>
            <point>
                <sdrNits>532.263</sdrNits>
                <hdrRatio>1.522</hdrRatio>
            </point>
            <point>
                <sdrNits>539.789</sdrNits>
                <hdrRatio>1.540</hdrRatio>
            </point>
            <point>
                <sdrNits>547.316</sdrNits>
                <hdrRatio>1.557</hdrRatio>
            </point>
            <point>
                <sdrNits>554.842</sdrNits>
                <hdrRatio>1.574</hdrRatio>
            </point>
            <point>
                <sdrNits>562.368</sdrNits>
                <hdrRatio>1.591</hdrRatio>
            </point>
            <point>
                <sdrNits>569.895</sdrNits>
                <hdrRatio>1.607</hdrRatio>
            </point>
            <point>
                <sdrNits>577.421</sdrNits>
                <hdrRatio>1.622</hdrRatio>
            </point>
            <point>
                <sdrNits>584.947</sdrNits>
                <hdrRatio>1.637</hdrRatio>
            </point>
            <point>
                <sdrNits>592.474</sdrNits>
                <hdrRatio>1.652</hdrRatio>
            </point>
            <point>
                <sdrNits>600.000</sdrNits>
                <hdrRatio>1.667</hdrRatio>
            </point>
        </sdrHdrRatioMap>
    </highBrightnessMode>

    <densityMapping>
        <density>
            <height>1440</height>
            <width>3120</width>
            <density>560</density>
        </density>
    </densityMapping>

    <screenBrightnessRampIncreaseMaxMillis>2000</screenBrightnessRampIncreaseMaxMillis>

    <ambientBrightnessChangeThresholds>
        <brighteningThresholds>
            <minimum>10</minimum>
        </brighteningThresholds>
        <darkeningThresholds>
            <minimum>0</minimum>
        </darkeningThresholds>
    </ambientBrightnessChangeThresholds>

    <ambientLightHorizonLong>5000</ambientLightHorizonLong>
    <ambientLightHorizonShort>50</ambientLightHorizonShort>

    <thermalThrottling>
        <brightnessThrottlingMap>
            <brightnessThrottlingPoint>
                <thermalStatus>light</thermalStatus>
                <!-- Throttling to 465 nits: (465-2.0)/(600-2.0)*(0.6-0.0)+0.0 = 0.464548495 -->
                <brightness>0.464548495</brightness>
            </brightnessThrottlingPoint>
            <brightnessThrottlingPoint>
                <thermalStatus>moderate</thermalStatus>
                <!-- Throttling to 297 nits: (297-2.0)/(600-2.0)*(0.6-0.0)+0.0 = 0.295986622 -->
                <brightness>0.295986622</brightness>
            </brightnessThrottlingPoint>
            <brightnessThrottlingPoint>
                <thermalStatus>severe</thermalStatus>
                <!-- Throttling to 213 nits: (213-2.0)/(600-2.0)*(0.6-0.0)+0.0 = 0.211705686 -->
                <brightness>0.211705686</brightness>
            </brightnessThrottlingPoint>
            <brightnessThrottlingPoint>
                <thermalStatus>critical</thermalStatus>
                <!-- Throttling to 150 nits: (150-2.0)/(600-2.0)*(0.6-0.0)+0.0 = 0.148494983 -->
                <brightness>0.148494983</brightness>
            </brightnessThrottlingPoint>
        </brightnessThrottlingMap>
    </thermalThrottling>

    <screenBrightnessRampFastDecrease>0.7047244</screenBrightnessRampFastDecrease>
    <screenBrightnessRampFastIncrease>0.7047244</screenBrightnessRampFastIncrease>
    <screenBrightnessRampSlowDecrease>0.05</screenBrightnessRampSlowDecrease>
    <screenBrightnessRampSlowIncrease>0.05</screenBrightnessRampSlowIncrease>

    <screenOffBrightnessSensor>
        <type>com.google.sensor.binned_brightness</type>
    </screenOffBrightnessSensor>
    <screenOffBrightnessSensorValueToLux>
        <item>-1</item> <!-- 0: OFF -->
        <item>0</item>  <!-- 1: NIGHT -->
        <item>5</item>  <!-- 2: LOW -->
        <item>80</item> <!-- 3: HIGH -->
        <item>1500</item> <!-- 4: SUN -->
    </screenOffBrightnessSensorValueToLux>
</displayConfiguration>
